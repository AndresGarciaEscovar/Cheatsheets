%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%  "conda" Cheatsheet
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{\textquotedblleft conda\textquotedblright\ Cheatsheet}

%///////////////////////////////////////////////////////////////////////////////////////////////////
% Create "conda" Environment
%///////////////////////////////////////////////////////////////////////////////////////////////////

\subsection{Create Environment}

\begin{itemize}
    %
    \item Create an empty conda environment:
    \begin{minted}[frame=single]{bash}
conda create --name <env_name>
    \end{minted}
    %
    \item Create a conda environment with packages:
    \begin{minted}[frame=single]{bash}
conda create --name <env_name> <package_name_0>...<package_name_N>
    \end{minted}
    %
    \item Create a conda environment from a yaml file:
    \begin{minted}[frame=single]{bash}
conda env create --file <path_to_yaml_file>
    \end{minted}
    Sample yaml file:
    \begin{minted}[frame=single]{yaml}
name: myenv
channels:
    - conda-forge
    - defaults
dependencies:
    - python=3.7
    - numpy
    - matplotlib
    - pip
    - pip:
        - tensorflow==2.0.0
    \end{minted}
    %
    \item Create at a specific location:
    \begin{minted}[frame=single]{bash}
conda create --prefix <path_to_env>
    \end{minted}
    The previous options still hold.
    %
\end{itemize}


%///////////////////////////////////////////////////////////////////////////////////////////////////
% Activate "conda" Environment
%///////////////////////////////////////////////////////////////////////////////////////////////////

\subsection{Activate Environment}
\label{conda:activateEnv}

\begin{itemize}
    %
    \item Activate an environment in the main installation directory:
    \begin{minted}[frame=single]{bash}
conda activate <env_name>
    \end{minted}
    %
    \item Activate an environment in a specific location:
    \begin{minted}[frame=single]{bash}
conda activate <path_to_env>
    \end{minted}
    %
    \item To deactivate an environment:
    \begin{minted}[frame=single]{bash}
conda deactivate
    \end{minted}
    %
\end{itemize}

%///////////////////////////////////////////////////////////////////////////////////////////////////
% Clone "conda" Environment
%///////////////////////////////////////////////////////////////////////////////////////////////////

\subsection{Clone Environment}

\begin{itemize}
    %
    \item Clone an environment:
    \begin{minted}[frame=single]{bash}
conda create --name <env_name> --clone <env_to_clone>
    \end{minted}
    %    
\end{itemize}

%///////////////////////////////////////////////////////////////////////////////////////////////////
% Remove "conda" Environment
%///////////////////////////////////////////////////////////////////////////////////////////////////

\subsection{Remove Environment}

\begin{itemize}
    %
    \item Remove an environment:
    \begin{minted}[frame=single]{bash}
conda remove --name <env_name> --all
    \end{minted}
    %
    \item Remove and environment in a specific location:
    \begin{minted}[frame=single]{bash}
conda remove --prefix <path_to_env> --all
    \end{minted}
    %
\end{itemize}

%///////////////////////////////////////////////////////////////////////////////////////////////////
% Add Packages to "conda" Environment
%///////////////////////////////////////////////////////////////////////////////////////////////////

\subsection{Add Packages}

Notice that different commands can be mixed and matched.
\begin{itemize}
    %
    \item Add packages to an environment:
    \begin{minted}[frame=single]{bash}
conda install --name <env_name> <package_name_0>...<package_name_N>
    \end{minted}
    %
    \item Add packages to an environment in a specific location:
    \begin{minted}[frame=single]{bash}
conda install --prefix <path_to_env> <package_name_0>...<package_name_N>
    \end{minted}
    %
    \item Add packages to an active environment:
    \begin{enumerate}
        \item Activate the environment (\hyperref[conda:activateEnv]{click here}).
        \item Add packages: 
        \begin{minted}[frame=single]{bash}
conda install <package_name_0>...<package_name_N>
        \end{minted}
    \end{enumerate}
    %
    \item Add packages from a different channel in an active environment:
    \begin{minted}[frame=single]{bash}
conda install --channel <channel_name> <package_name_0>...<package_name_N>
    \end{minted}
    %
    \item Add packages with a specific version:
    \begin{minted}[frame=single]{bash}
conda install <package_name>=<version>
    \end{minted}
    %
    \item Add packages from a yaml file:
    \begin{minted}[frame=single]{bash}
conda env update --file <path_to_yaml_file>
    \end{minted}
        %
    \item Update the packages to the given ones:
    \begin{minted}[frame=single]{bash}
conda env update --file <path_to_yaml_file> --prune
    \end{minted}
    \newpage
    Sample yaml file to udpate:
    \begin{minted}[frame=single]{yaml}
        channels:
            - conda-forge
            - defaults
        dependencies:
            - python=3.7
            - numpy
            - matplotlib
            - pip
            - pip:
                - tensorflow==2.0.0
            \end{minted}
            %
\end{itemize}


%///////////////////////////////////////////////////////////////////////////////////////////////////
% Remove Packages from "conda" Environment
%///////////////////////////////////////////////////////////////////////////////////////////////////

\subsection{Remove Packages}

\begin{itemize}
    \item Remove packages from an environment:
    \begin{minted}[frame=single]{bash}
conda remove --name <env_name> <package_name_0>...<package_name_N>
    \end{minted}
    %
    \item Remove packages from an environment in a specific location:
    \begin{minted}[frame=single]{bash}
conda remove --prefix <path_to_env> <package_name_0>...<package_name_N>
    \end{minted}
    %
    \item Remove packages from an active environment:
    \begin{enumerate}
        \item Activate the environment (\hyperref[conda:activateEnv]{click here}).
        \item Remove packages: 
        \begin{minted}[frame=single]{bash}
conda remove <package_name_0>...<package_name_N>
        \end{minted}
    \end{enumerate}
    %
\end{itemize}